{% extends 'base_generic.html' %}

{% block content %}
    <h1>Search results:</h1>
    {% if order_by %}
        The search result is sorted by <strong>{{ order_by }}:</strong>
        <br>
    {% endif %}
    <br>
    {% if book_results %}
        {% for book in book_results %}
            <a href="{% url 'book_detail' book.isbn %}">
                <ul>
                    <li><strong>Title: </strong>{{ book.title }}</li>
                    <li><strong>ISBN: </strong>{{ book.isbn }}</li>
                    {% if book.author__first_name and book.author__last_name %}
                        <li><strong>Author: </strong>{{ book.author__first_name }} {{ book.author__last_name }}</li>
                    {% endif %}
                    <li><strong>Publisher: </strong>{{ book.publisher }}</li>
                    <li><strong>Subject: </strong>{{ book.subject }}</li>
                    <li><strong>Keyword: </strong>{{ book.keywords }}</li>
                    <li><strong>Language: </strong>{{ book.language }}</li>
                    <li><strong>Price: </strong>${{ book.price }}</li>
                    {% if book.avg_score %}
                        <li><strong>Average score: </strong>{{ book.avg_score }}</li>
                    {% endif %}
                </ul>
            </a>
            <hr>
        {% endfor %}

    {% else %}
        <p>Search result is empty.</p>
    {% endif %}
{% endblock %}